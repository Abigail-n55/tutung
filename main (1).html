<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guardabarros Falc√≥n √âlite - Almacenamiento Local</title>
    <!-- Carga de Tailwind CSS CDN para estilos llamativos y responsivos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // Colores vibrantes y de alto contraste (principios de accesibilidad y psicolog√≠a del color)
                        'primary-blue': '#007BFF', // Azul El√©ctrico, energ√≠a y confianza
                        'accent-cyan': '#00C8FF', // Cyan Vibrante, modernidad y dinamismo
                        'dark-bg': '#1F2937',     // Gris Oscuro, profesionalismo
                        'light-text': '#F3F4F6',  // Gris Claro, alta legibilidad
                        'success-green': '#28A745', // Verde, indicando √©xito o disponibilidad
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        /* Estilos personalizados para el CRUD y efectos hover */
        .card-shadow {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease-in-out;
        }
        .card-shadow:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
        }
        .text-neon {
            text-shadow: 0 0 5px rgba(0, 200, 255, 0.5), 0 0 10px rgba(0, 200, 255, 0.3);
        }
        #search-bar:focus {
            border-color: #00C8FF;
            box-shadow: 0 0 0 3px rgba(0, 200, 255, 0.5);
        }
    </style>
    <!-- Script de l√≥gica de la aplicaci√≥n -->
    <script>
        let users = [];

        // Inicializa la aplicaci√≥n y carga los datos de localStorage
        function initApp() {
            const storedUsers = localStorage.getItem('falconEliteUsers');
            if (storedUsers) {
                users = JSON.parse(storedUsers);
            } else {
                // Datos de ejemplo
                users = [
                    { id: 'u1', name: 'Laura G√≥mez', email: 'laura.g@mail.com' },
                    { id: 'u2', name: 'Roberto D√≠az', email: 'roberto.d@mail.com' }
                ];
            }
            renderUserList();
        }

        // Guarda el arreglo de usuarios en localStorage
        function saveUsers() {
            localStorage.setItem('falconEliteUsers', JSON.stringify(users));
        }

        // Crea un nuevo usuario (CREATE)
        window.addUser = function(event) {
            event.preventDefault();
            const nameInput = document.getElementById('crud-name');
            const emailInput = document.getElementById('crud-email');
            const name = nameInput.value.trim();
            const email = emailInput.value.trim();

            if (name && email) {
                const newUser = {
                    id: Date.now().toString(), // Usamos timestamp como ID √∫nico
                    name: name,
                    email: email,
                };
                users.push(newUser);
                saveUsers();
                renderUserList();
                
                nameInput.value = '';
                emailInput.value = '';
                const message = document.getElementById('crud-message');
                message.textContent = 'Usuario creado con √©xito (Guardado localmente).';
                setTimeout(() => message.textContent = '', 3000);
            }
        };

        // Renderiza la lista de usuarios (READ)
        function renderUserList() {
            const list = document.getElementById('user-list');
            list.innerHTML = '';
            
            if (users.length === 0) {
                list.innerHTML = `<p class="text-center text-gray-400 py-4">No hay usuarios gestionados. ¬°Crea uno!</p>`;
                return;
            }

            users.forEach(user => {
                const item = document.createElement('li');
                item.className = 'flex justify-between items-center bg-gray-700 p-3 rounded-lg mb-2';
                item.innerHTML = `
                    <div class="flex-1 min-w-0">
                        <p class="text-light-text font-semibold truncate">${user.name}</p>
                        <p class="text-xs text-accent-cyan truncate">${user.email}</p>
                    </div>
                    <div class="space-x-2 flex ml-4">
                        <button onclick="editUser('${user.id}', '${user.name.replace(/'/g, "\\'")}', '${user.email.replace(/'/g, "\\'")}')"
                            class="bg-primary-blue hover:bg-opacity-80 text-white font-bold py-1 px-3 rounded text-sm transition duration-150">
                            Modificar
                        </button>
                        <button onclick="deleteUser('${user.id}')"
                            class="bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-3 rounded text-sm transition duration-150">
                            Eliminar
                        </button>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        // Modifica un usuario (UPDATE)
        window.editUser = function(id, currentName, currentEmail) {
            // Usamos un modal/confirmaci√≥n simple para simular.
            const newName = prompt(`Editar Nombre para ID ${id}:`, currentName);
            if (newName === null) return; // Cancelado

            const newEmail = prompt(`Editar Email para ID ${id}:`, currentEmail);
            if (newEmail === null) return; // Cancelado

            const index = users.findIndex(u => u.id === id);
            if (index !== -1) {
                users[index].name = newName;
                users[index].email = newEmail;
                saveUsers();
                renderUserList();
            }
        };

        // Elimina un usuario (DELETE)
        window.deleteUser = function(id) {
            if (!confirm("¬øEst√° seguro de que desea eliminar este usuario localmente?")) return; 
            
            users = users.filter(u => u.id !== id);
            saveUsers();
            renderUserList();
        };

        // Genera y descarga el archivo TXT (Simulaci√≥n de guardado)
        window.downloadUsersTxt = function() {
            if (users.length === 0) {
                alert("No hay datos para exportar.");
                return;
            }

            // Formato de texto simple
            let textContent = "--- Lista de Usuarios Gestionados de Falc√≥n √âlite ---\n\n";
            users.forEach((user, index) => {
                textContent += `[${index + 1}] ID: ${user.id}\n`;
                textContent += `    Nombre: ${user.name}\n`;
                textContent += `    Email: ${user.email}\n`;
                textContent += "----------------------------------------------\n";
            });

            const blob = new Blob([textContent], { type: 'text/plain;charset=utf-8' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'usuarios_falcon_elite.txt';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        };

        // Funcionalidad de B√∫squeda del Cat√°logo
        window.filterCatalog = function() {
            const query = document.getElementById('search-bar').value.toLowerCase();
            const products = document.querySelectorAll('.product-card');

            products.forEach(card => {
                const name = card.getAttribute('data-name').toLowerCase();
                const description = card.getAttribute('data-desc').toLowerCase();

                if (name.includes(query) || description.includes(query)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        };

        // Inicializa al cargar la ventana
        window.onload = initApp;
    </script>
</head>

<body class="bg-dark-bg text-light-text font-sans antialiased">

    <!-- Encabezado / Barra de Navegaci√≥n -->
    <header class="bg-gray-800 shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-extrabold text-accent-cyan text-neon">
                Guardabarros Falc√≥n √âlite
            </h1>
            <nav class="flex space-x-6">
                <a href="#inicio" class="text-light-text hover:text-primary-blue transition duration-200">Inicio</a>
                <a href="#catalogo" class="text-light-text hover:text-primary-blue transition duration-200">Cat√°logo</a>
                <a href="#nosotros" class="text-light-text hover:text-primary-blue transition duration-200">Nosotros</a>
                <a href="#crud-section" class="text-light-text hover:text-primary-blue transition duration-200">Mi Cuenta (Local)</a>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">

        <!-- 1. Secci√≥n de Introducci√≥n y Bot√≥n de Cat√°logo (Hero) -->
        <section id="inicio" class="text-center py-20 bg-gray-800 rounded-2xl mb-12 shadow-xl">
            <h2 class="text-5xl md:text-7xl font-black mb-4 leading-tight text-accent-cyan text-neon">
                Protecci√≥n Superior. Estilo IMBATIBLE.
            </h2>
            <p class="text-xl md:text-2xl text-light-text mb-8 max-w-3xl mx-auto">
                Dise√±amos y fabricamos guardabarros de alto rendimiento con materiales aeroespaciales. La √∫nica opci√≥n que tu Falc√≥n necesita para enfrentar cualquier camino.
            </p>
            <!-- Bot√≥n de Cat√°logo Completo -->
            <a href="#catalogo" class="inline-block bg-primary-blue hover:bg-accent-cyan text-white text-lg font-extrabold py-4 px-10 rounded-full transition duration-300 transform hover:scale-105 shadow-xl">
                VER CAT√ÅLOGO COMPLETO
            </a>
        </section>

        <!-- 2. Barra de B√∫squeda del Cat√°logo -->
        <section class="mb-12">
            <input type="text" id="search-bar" onkeyup="filterCatalog()"
                placeholder="üîç Busca tu modelo (Ej: Cl√°sico, Deportivo, Reforzado...)"
                class="w-full p-4 rounded-xl bg-gray-700 text-light-text border-2 border-gray-600 outline-none focus:ring-4 focus:ring-accent-cyan/50 transition duration-300">
        </section>

        <!-- 3. Cat√°logo de Productos -->
        <section id="catalogo" class="pt-8">
            <h3 class="text-4xl font-bold mb-8 border-b-4 border-primary-blue pb-2">Cat√°logo de Productos</h3>

            <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">

                <!-- Producto 1: Cl√°sico Reforzado (Im√°genes Superrealistas Placeholder) -->
                <div class="product-card bg-gray-800 p-4 rounded-xl card-shadow"
                    data-name="Cl√°sico Reforzado" data-desc="El guardabarros original con extra durabilidad.">
                    <img src="https://placehold.co/600x400/007bff/ffffff?text=Guardabarros+Falc√≥n+Cl√°sico+(Superrealista)"
                        alt="Guardabarros Cl√°sico Reforzado Superrealista"
                        class="w-full h-48 object-cover rounded-lg mb-4">
                    <h4 class="text-xl font-semibold mb-2 text-primary-blue">Cl√°sico Reforzado</h4>
                    <p class="text-2xl font-bold text-accent-cyan mb-3">$149.99 USD</p>
                    <div class="flex justify-between items-center">
                        <span class="text-success-green font-medium">‚úÖ Env√≠o a domicilio</span>
                        <button class="bg-gray-600 hover:bg-primary-blue text-sm text-white py-2 px-4 rounded-full transition duration-150">Comprar</button>
                    </div>
                </div>

                <!-- Producto 2: Deportivo Aerodin√°mico (Im√°genes Superrealistas Placeholder) -->
                <div class="product-card bg-gray-800 p-4 rounded-xl card-shadow"
                    data-name="Deportivo Aerodin√°mico" data-desc="Dise√±o ligero y m√°ximo flujo de aire.">
                    <img src="https://placehold.co/600x400/00c8ff/000000?text=Guardabarros+Falc√≥n+Deportivo+(Superrealista)"
                        alt="Guardabarros Deportivo Aerodin√°mico Superrealista"
                        class="w-full h-48 object-cover rounded-lg mb-4">
                    <h4 class="text-xl font-semibold mb-2 text-primary-blue">Deportivo Aerodin√°mico</h4>
                    <p class="text-2xl font-bold text-accent-cyan mb-3">$219.99 USD</p>
                    <div class="flex justify-between items-center">
                        <span class="text-success-green font-medium">‚úÖ Env√≠o a domicilio</span>
                        <button class="bg-gray-600 hover:bg-primary-blue text-sm text-white py-2 px-4 rounded-full transition duration-150">Comprar</button>
                    </div>
                </div>

                <!-- Producto 3: Todoterreno Extremo (Im√°genes Superrealistas Placeholder) -->
                <div class="product-card bg-gray-800 p-4 rounded-xl card-shadow"
                    data-name="Todoterreno Extremo" data-desc="M√°xima resistencia a impactos y lodo.">
                    <img src="https://placehold.co/600x400/28a745/ffffff?text=Guardabarros+Falc√≥n+Todoterreno+(Superrealista)"
                        alt="Guardabarros Todoterreno Extremo Superrealista"
                        class="w-full h-48 object-cover rounded-lg mb-4">
                    <h4 class="text-xl font-semibold mb-2 text-primary-blue">Todoterreno Extremo</h4>
                    <p class="text-2xl font-bold text-accent-cyan mb-3">$299.99 USD</p>
                    <div class="flex justify-between items-center">
                        <span class="text-success-green font-medium">‚úÖ Env√≠o a domicilio</span>
                        <button class="bg-gray-600 hover:bg-primary-blue text-sm text-white py-2 px-4 rounded-full transition duration-150">Comprar</button>
                    </div>
                </div>

                <!-- Producto 4: Edici√≥n Titanio (Im√°genes Superrealistas Placeholder) -->
                <div class="product-card bg-gray-800 p-4 rounded-xl card-shadow"
                    data-name="Edici√≥n Titanio" data-desc="Acabado premium y ultraligero.">
                    <img src="https://placehold.co/600x400/6C757D/ffffff?text=Guardabarros+Falc√≥n+Titanio+(Superrealista)"
                        alt="Guardabarros Edici√≥n Titanio Superrealista"
                        class="w-full h-48 object-cover rounded-lg mb-4">
                    <h4 class="text-xl font-semibold mb-2 text-primary-blue">Edici√≥n Titanio</h4>
                    <p class="text-2xl font-bold text-accent-cyan mb-3">$450.00 USD</p>
                    <div class="flex justify-between items-center">
                        <span class="text-success-green font-medium">‚úÖ Env√≠o a domicilio</span>
                        <button class="bg-gray-600 hover:bg-primary-blue text-sm text-white py-2 px-4 rounded-full transition duration-150">Comprar</button>
                    </div>
                </div>

            </div>
        </section>

        <!-- 4. Apartado sobre el Origen de la Empresa (Nosotros) -->
        <section id="nosotros" class="pt-16 mt-16 border-t border-gray-700">
            <h3 class="text-4xl font-bold mb-4 text-primary-blue text-neon">Nuestra Historia: Pasi√≥n y Ingenier√≠a</h3>
            <div class="bg-gray-800 p-8 rounded-xl shadow-2xl flex flex-col md:flex-row gap-8">
                <div class="md:w-1/2">
                    <h4 class="text-2xl font-semibold mb-3 text-accent-cyan">Origen de Falc√≥n √âlite</h4>
                    <p class="mb-4 text-gray-300">
                        Nacimos en 1998, en un peque√±o taller donde la pasi√≥n por la ingenier√≠a de precisi√≥n y los veh√≠culos cl√°sicos convergieron. Nuestro fundador, un ingeniero aeron√°utico y entusiasta de los Falc√≥n, se propuso resolver el problema de la durabilidad de los guardabarros con soluciones que superaran los est√°ndares de f√°brica.
                    </p>
                    <h4 class="text-2xl font-semibold mb-3 text-accent-cyan">Breve Descripci√≥n de la Empresa</h4>
                    <p class="text-gray-300">
                        Hoy, Guardabarros Falc√≥n √âlite es sin√≥nimo de **innovaci√≥n y calidad inquebrantable**. Utilizamos tecnolog√≠a de escaneo 3D y materiales compuestos de √∫ltima generaci√≥n. Nuestro compromiso es doble: proteger la integridad de tu veh√≠culo y elevar su est√©tica. Somos la √©lite en protecci√≥n vehicular, y cada pieza que sale de nuestro centro de manufactura es una promesa de rendimiento extremo.
                    </p>
                </div>
                <div class="md:w-1/2 flex items-center justify-center">
                    <img src="https://placehold.co/500x300/4B5563/ffffff?text=Sede+Principal+Superrealista"
                        alt="Imagen de la sede principal de la empresa"
                        class="rounded-lg shadow-xl w-full max-w-md">
                </div>
            </div>
        </section>

        <!-- 5. CRUD: Creaci√≥n y Gesti√≥n de Usuarios/Cuentas -->
        <section id="crud-section" class="pt-16 mt-16 border-t border-gray-700 bg-gray-900 p-8 rounded-2xl shadow-2xl">
            <h3 class="text-4xl font-bold mb-6 text-red-500 text-neon">Gesti√≥n de Cuentas (CRUD Local)</h3>
            <p class="text-yellow-400 mb-6 font-semibold">
                ‚ö†Ô∏è **Almacenamiento Local:** Los datos se guardan en el navegador (`localStorage`) y persisten hasta que los eliminas o borras la cach√©. Usa el bot√≥n "Exportar a TXT" para guardar una copia externa.
            </p>

            <!-- Formulario de Creaci√≥n (Create) -->
            <div class="bg-gray-800 p-6 rounded-lg mb-8 shadow-inner">
                <h4 class="text-2xl font-semibold mb-4 text-primary-blue">Crear Nuevo Usuario Gestionado</h4>
                <form id="crud-form" onsubmit="addUser(event)" class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <input type="text" id="crud-name" placeholder="Nombre" required
                            class="p-3 rounded-lg bg-gray-700 border border-gray-600 focus:border-accent-cyan focus:ring focus:ring-accent-cyan/50 text-light-text">
                        <input type="email" id="crud-email" placeholder="Email" required
                            class="p-3 rounded-lg bg-gray-700 border border-gray-600 focus:border-accent-cyan focus:ring focus:ring-accent-cyan/50 text-light-text">
                    </div>
                    <button type="submit" class="w-full bg-success-green hover:bg-opacity-80 text-white font-bold py-3 rounded-lg transition duration-200 transform hover:scale-[1.01]">
                        Crear Usuario
                    </button>
                    <p id="crud-message" class="text-center text-sm text-success-green"></p>
                </form>
            </div>

            <!-- Bot√≥n de Exportaci√≥n a TXT -->
            <div class="mb-8">
                 <button onclick="downloadUsersTxt()" 
                    class="w-full bg-red-700 hover:bg-red-800 text-white font-bold py-3 px-4 rounded-lg transition duration-200 transform hover:scale-[1.01] shadow-xl">
                    ‚¨áÔ∏è Exportar Datos a Archivo TXT
                </button>
            </div>

            <!-- Lista de Usuarios (Read, Update, Delete) -->
            <div class="bg-gray-800 p-6 rounded-lg shadow-inner">
                <h4 class="text-2xl font-semibold mb-4 text-primary-blue">Lista de Usuarios Gestionados</h4>
                <ul id="user-list" class="space-y-3">
                    <!-- Los usuarios se cargar√°n aqu√≠ desde localStorage en initApp -->
                    <li class="text-center text-gray-500 py-4">Cargando usuarios...</li>
                </ul>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 mt-12 py-6 text-center text-gray-400">
        <p>&copy; 2025 Guardabarros Falc√≥n √âlite. Ingenier√≠a y Estilo. Desarrollado con ‚ù§Ô∏è y c√≥digo limpio.</p>
    </footer>

</body>
</html>
